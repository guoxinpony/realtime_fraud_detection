mlflow:
  experiment_name: "fraud_detection"
  registered_model_name: "fraud_detection_default"
  tracking_uri: "http://mlflow-server:5500"
  artifact_location: "s3://mlflow/fraud_detection"
  s3_endpoint_url: "http://minio:9000"
  bucket: "mlflow"

kafka:
  bootstrap_servers: "kafka_broker:9092"
  # username: "FWNDEFYYI5D4RII2"
  # password: "cfltk4VkQCqAu/toxD5DYuapfzkth71nFFNADK+taynZkdrZRDgZ/2oiwM8WZcog"
  topic: "ml_model_train"
  test_data: "fraud_test_data"
  output_topic: "fraud_predictions"
  security_protocol: 'PLAINTEXT'
  timeout: 12000
  max_messages: 100000

data:
  training_csv: "./data/fraud_detection_data.csv"

models:
  xgboost:
    test_size: 0.2
    validation_size: 0.1
    early_stopping_rounds: 25
    threshold_recall_target: 0.9
    seed: 666
    params:
      n_estimators: 200
      learning_rate: 0.08
      max_depth: 4
      subsample: 0.85
      colsample_bytree: 0.8
      tree_method: "hist"
      scale_pos_weight: 132.33
    path: "/app/models/fraud_detection_model_xgboost.pkl"
    test_path: "/app/models/fraud_detection_model_TEST.pkl"
    mlflow_registered_model_name: "fraud_detection_xgboost"
  logistic:
    test_size: 0.2
    validation_size: 0.1
    threshold_recall_target: 0.9
    negative_downsample_ratio: 0.4
    seed: 666
    params:
      solver: "lbfgs"
      max_iter: 1000
      class_weight: "balanced"
      C: 1.0
    path: "/app/models/fraud_detection_model_logistic.pkl"
    test_path: "/app/models/fraud_detection_model_logistic_TEST.pkl"
    mlflow_registered_model_name: "fraud_detection_logistic"




spark:
  app_name: "FraudDetectionInference"
  packages: "org.mlflow:mlflow-spark:2.6.0,com.google.guava:guava:30.1.1-jre,org.apache.spark:spark-sql-kafka-0-10_2.12:3.5.4,org.apache.hadoop:hadoop-aws:3.3.0,com.amazonaws:aws-java-sdk:1.11.469"
  shuffle_partition: 200
  checkpoint_location: 'checkpoints'
